var ddaccordion={contentclassname:{},expandone:function(e,t){this.toggleone(e,t,"expand")},collapseone:function(e,t){this.toggleone(e,t,"collapse")},expandall:function(e){var t=jQuery,n=t("."+e);t("."+this.contentclassname[e]+":hidden").each(function(){n.eq(parseInt(t(this).attr("contentindex"))).trigger("evt_accordion")})},collapseall:function(e){var t=jQuery,n=t("."+e);t("."+this.contentclassname[e]+":visible").each(function(){n.eq(parseInt(t(this).attr("contentindex"))).trigger("evt_accordion")})},toggleone:function(e,t,n){var a=jQuery,s=a("."+e).eq(t),o=a("."+this.contentclassname[e]).eq(t);("undefined"==typeof n||"expand"==n&&o.is(":hidden")||"collapse"==n&&o.is(":visible"))&&s.trigger("evt_accordion")},expandit:function(e,t,n,a){t.slideDown(n.animatespeed,function(){n.onopenclose(e.get(0),parseInt(e.attr("headerindex")),t.css("display"),a)}),this.transformHeader(e,n,"expand")},collapseit:function(e,t,n,a){t.slideUp(n.animatespeed,function(){n.onopenclose(e.get(0),parseInt(e.attr("headerindex")),t.css("display"),a)}),this.transformHeader(e,n,"collapse")},transformHeader:function(e,t,n){e.addClass("expand"==n?t.cssclass.expand:t.cssclass.collapse).removeClass("expand"==n?t.cssclass.collapse:t.cssclass.expand),"src"==t.htmlsetting.location?(e=e.is("img")?e:e.find("img").eq(0),e.attr("src","expand"==n?t.htmlsetting.expand:t.htmlsetting.collapse)):"prefix"==t.htmlsetting.location?e.find(".accordprefix").html("expand"==n?t.htmlsetting.expand:t.htmlsetting.collapse):"suffix"==t.htmlsetting.location&&e.find(".accordsuffix").html("expand"==n?t.htmlsetting.expand:t.htmlsetting.collapse)},urlparamselect:function(e){var t=window.location.search.match(new RegExp(e+"=((\\d+)(,(\\d+))*)","i"));return null!=t&&(t=RegExp.$1.split(",")),t},getCookie:function(e){var t=new RegExp(e+"=[^;]+","i");return document.cookie.match(t)?document.cookie.match(t)[0].split("=")[1]:null},setCookie:function(e,t){document.cookie=e+"="+t+"; path=/"},init:function(e){document.write('<style type="text/css">\n'),document.write("."+e.contentclass+"{display: none}\n"),document.write("</style>"),jQuery(document).ready(function(t){ddaccordion.urlparamselect(e.headerclass);var n=ddaccordion.getCookie(e.headerclass);ddaccordion.contentclassname[e.headerclass]=e.contentclass,e.cssclass={collapse:e.toggleclass[0],expand:e.toggleclass[1]},e.revealtype=/^(click)|(mouseover)$/i.test(e.revealtype)?e.revealtype.replace(/mouseover/i,"mouseenter"):"click",e.htmlsetting={location:e.togglehtml[0],collapse:e.togglehtml[1],expand:e.togglehtml[2]},e.oninit="undefined"==typeof e.oninit?function(){}:e.oninit,e.onopenclose="undefined"==typeof e.onopenclose?function(){}:e.onopenclose;var a={},s=ddaccordion.urlparamselect(e.headerclass)||(e.persiststate&&null!=n?n:e.defaultexpanded);"string"==typeof s&&(s=s.replace(/c/gi,"").split(","));var o=t("."+e.contentclass);1==s.length&&"-1"==s[0]&&(s=[]),e.collapseprev&&s.length>1&&(s=[s.pop()]),e.onemustopen&&0==s.length&&(s=[0]),t("."+e.headerclass).each(function(n){/(prefix)|(suffix)/i.test(e.htmlsetting.location)&&""!=t(this).html()&&(t('<span class="accordprefix"></span>').prependTo(this),t('<span class="accordsuffix"></span>').appendTo(this)),t(this).attr("headerindex",n+"h"),o.eq(n).attr("contentindex",n+"c");var i=o.eq(n),c="number"==typeof s[0]?n:n+"";-1!=jQuery.inArray(c,s)?(0==e.animatedefault&&i.show(),ddaccordion.expandit(t(this),i,e,!1),a={$header:t(this),$content:i}):(i.hide(),e.onopenclose(t(this).get(0),parseInt(t(this).attr("headerindex")),i.css("display"),!1),ddaccordion.transformHeader(t(this),e,"collapse"))}),t("."+e.headerclass).bind("evt_accordion",function(){var n=o.eq(parseInt(t(this).attr("headerindex")));"none"==n.css("display")?(ddaccordion.expandit(t(this),n,e,!0),e.collapseprev&&a.$header&&t(this).get(0)!=a.$header.get(0)&&ddaccordion.collapseit(a.$header,a.$content,e,!0),a={$header:t(this),$content:n}):ddaccordion.collapseit(t(this),n,e,!0)}),t("."+e.headerclass).bind(e.revealtype,function(){return"mouseenter"!=e.revealtype?(t(this).trigger("evt_accordion"),!1):(ddaccordion.expandone(e.headerclass,parseInt(t(this).attr("headerindex"))),void 0)}),e.oninit(t("."+e.headerclass).get(),s),t(window).bind("unload",function(){t("."+e.headerclass).unbind();var n=[];t("."+e.contentclass+":visible").each(function(){n.push(t(this).attr("contentindex"))}),1==e.persiststate&&(n=0==n.length?"-1c":n,ddaccordion.setCookie(e.headerclass,n))})})}};